package  {	import flash.display.MovieClip;	import flash.events.Event;	import flash.events.NativeDragEvent;	import flash.events.MouseEvent;	import flash.media.Sound;	import flash.net.URLRequest;	import flash.events.ProgressEvent;	import flash.media.SoundChannel;	import flash.filesystem.File;		public class Main extends MovieClip {				private var soundLoader:Sound = new Sound();		private var soundChannel:SoundChannel = new SoundChannel();		private var playLists:Array;		private var idx:int;		public function Main() {			// constructor code			stop();//			addEventListener(Event.ADDED_TO_STAGE, onAddedToStage);		}		/*		private function onAddedToStage(event:Event) {			// set slider events			// sliderHandle.addEventListener(NativeDragEvent.NATIVE_DRAG_START, onDragStart);			sliderHandle.addEventListener(MouseEvent.CLICK, onClick);						// set button events			playButton.addEventListener(MouseEvent.CLICK, onPlayClick);						previousButton.addEventListener(MouseEvent.CLICK, onPreviousClick);			nextButton.addEventListener(MouseEvent.CLICK, onNextClick);						toolTipButton.addEventListener(MouseEvent.CLICK, onToolTipClick);			SaveToItunes.stop();			SaveToItunes.addEventListener(Event.ENTER_FRAME, onToolTipEnterFrame);			// set Cover Image event			coverImage.addEventListener(MouseEvent.CLICK, onCoverImageClick);			idx = 0;			playLists=[						"math_11.mp3",						"pixdix_01.mp3",						"pixdix_03.mp3",					   	"abm2_07.mp3",						"vh_03.mp3"		    ];			loadSoundByIdx(idx);			addEventListener(Event.ENTER_FRAME, onEnterFrame);		}		private function onDragStart(event:Event) {			trace("drag start");		}		private function onClick(event:Event) {			trace("on click");		}		private function onPlayClick(event:Event) {			trace("on play click");			soundChannel.stop();			soundChannel = soundLoader.play(0);			soundChannel.removeEventListener(Event.SOUND_COMPLETE, onSoundComplete);			soundChannel.addEventListener(Event.SOUND_COMPLETE, onSoundComplete);		}		private function onPreviousClick(event:Event) {			idx--;			if (idx<0) {				idx=playLists.length-1;			}			loadSoundByIdx(idx);		}		private function onNextClick(event:Event) {			idx++;			if (idx>=playLists.length) {				idx=0;			}//			soundChannel.stop();//			soundLoader.close();			loadSoundByIdx(idx);		}		private function loadSoundByIdx(idx:int) {			trace(playLists[idx]);			trace(File.documentsDirectory.url);			var path:String = "/media/Fun/";			trace(path);			soundLoader.load(new URLRequest(path+playLists[idx]));		}		private function onSoundComplete(event:Event) {			trace("sound complete");		}		private function onEnterFrame(event:Event) {			var position = soundChannel.position / soundLoader.length;			slideBar.width = position*slideBarBackground.width;			slideBar.x = slideBarBackground.x;			if (currentFrame==13) {				stop();			}		}		private function onCoverImageClick(event:Event) {			trace("cover image Clicked");			play();		}				private function onToolTipClick(event:Event) {			if (SaveToItunes.currentFrame>1) {				SaveToItunes.gotoAndStop(0);			} else {				SaveToItunes.play();			}		}				private function onToolTipEnterFrame(event:Event) {			if (SaveToItunes.currentFrame==11) {				SaveToItunes.stop();			}		}		*/	}	}